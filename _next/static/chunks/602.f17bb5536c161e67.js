"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{1590:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ea});var o=r(5155),a=r(2115),l=r(6278),n=r(4492),s=r(6220),i=r(9927),c=r(4581),d=r(4426),u=r(2596),p=r(7472),A=r(5955),h=r(186),v=r(5170),m=r(870);function y(e){return(0,m.Ay)("MuiTableContainer",e)}(0,v.A)("MuiTableContainer",["root"]);let x=e=>{let{classes:t}=e;return(0,p.A)({root:["root"]},y,t)},f=(0,A.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),g=a.forwardRef(function(e,t){let r=(0,h.b)({props:e,name:"MuiTableContainer"}),{className:a,component:l="div",...n}=r,s={...r,component:l},i=x(s);return(0,o.jsx)(f,{ref:t,as:l,className:(0,u.A)(i.root,a),ownerState:s,...n})});var b=r(8407),j=r(963),C=r(680);function M(e){return(0,m.Ay)("MuiTable",e)}(0,v.A)("MuiTable",["root","stickyHeader"]);let w=e=>{let{classes:t,stickyHeader:r}=e;return(0,p.A)({root:["root",r&&"stickyHeader"]},M,t)},S=(0,A.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})((0,C.A)(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),R="table",T=a.forwardRef(function(e,t){let r=(0,h.b)({props:e,name:"MuiTable"}),{className:l,component:n=R,padding:s="normal",size:i="medium",stickyHeader:c=!1,...d}=r,p={...r,component:n,padding:s,size:i,stickyHeader:c},A=w(p),v=a.useMemo(()=>({padding:s,size:i,stickyHeader:c}),[s,i,c]);return(0,o.jsx)(j.A.Provider,{value:v,children:(0,o.jsx)(S,{as:n,role:n===R?null:"table",ref:t,className:(0,u.A)(A.root,l),ownerState:p,...d})})});var k=r(1391);function z(e){return(0,m.Ay)("MuiTableHead",e)}(0,v.A)("MuiTableHead",["root"]);let L=e=>{let{classes:t}=e;return(0,p.A)({root:["root"]},z,t)},H=(0,A.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),N={variant:"head"},I="thead",O=a.forwardRef(function(e,t){let r=(0,h.b)({props:e,name:"MuiTableHead"}),{className:a,component:l=I,...n}=r,s={...r,component:l},i=L(s);return(0,o.jsx)(k.A.Provider,{value:N,children:(0,o.jsx)(H,{as:l,className:(0,u.A)(i.root,a),ref:t,role:l===I?null:"rowgroup",ownerState:s,...n})})});var E=r(4391);function P(e){return(0,m.Ay)("MuiTableRow",e)}let B=(0,v.A)("MuiTableRow",["root","selected","hover","head","footer"]),W=e=>{let{classes:t,selected:r,hover:o,head:a,footer:l}=e;return(0,p.A)({root:["root",r&&"selected",o&&"hover",a&&"head",l&&"footer"]},P,t)},F=(0,A.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((0,C.A)(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(B.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(B.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,E.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,E.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),U=a.forwardRef(function(e,t){let r=(0,h.b)({props:e,name:"MuiTableRow"}),{className:l,component:n="tr",hover:s=!1,selected:i=!1,...c}=r,d=a.useContext(k.A),p={...r,component:n,hover:s,selected:i,head:d&&"head"===d.variant,footer:d&&"footer"===d.variant},A=W(p);return(0,o.jsx)(F,{as:n,ref:t,className:(0,u.A)(A.root,l),role:"tr"===n?null:"row",ownerState:p,...c})});var _=r(4263);function D(e){return(0,m.Ay)("MuiTableBody",e)}(0,v.A)("MuiTableBody",["root"]);let V=e=>{let{classes:t}=e;return(0,p.A)({root:["root"]},D,t)},X=(0,A.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Z={variant:"body"},$="tbody",J=a.forwardRef(function(e,t){let r=(0,h.b)({props:e,name:"MuiTableBody"}),{className:a,component:l=$,...n}=r,s={...r,component:l},i=V(s);return(0,o.jsx)(k.A.Provider,{value:Z,children:(0,o.jsx)(X,{className:(0,u.A)(i.root,a),as:l,ref:t,role:l===$?null:"rowgroup",ownerState:s,...n})})});var Y=r(2663),q=r(700),G=r(835),K=r(5824),Q=r(2046);let ee=(0,r(7515).A)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var et=r(1396),er=r(3475),eo=r(810);function ea(e){let{open:t,onClose:r}=e,{userData:u}=(0,er.A)(),[p,A]=(0,a.useState)([]),[h,v]=(0,a.useState)(!0),[m,y]=(0,a.useState)({open:!1,message:"",severity:"success"}),x=(null==u?void 0:u.isAdmin)||(null==u?void 0:u.email)===eo.vE,f=async()=>{v(!0),A(await (0,et.CF)()),v(!1)};(0,a.useEffect)(()=>{t&&x&&f()},[t,x]);let j=async(e,t)=>{await (0,et.JY)(e,t)?(A(r=>r.map(r=>r.uid===e?{...r,hasAccess:t}:r)),y({open:!0,message:"User ".concat(t?"granted":"removed"," access successfully"),severity:"success"})):y({open:!0,message:"Failed to update user access",severity:"error"})},C=()=>{y({...m,open:!1})},M=e=>{if(!e)return"N/A";try{let t=e.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(t)}catch(e){return"Invalid date"}};return x?(0,o.jsxs)(l.A,{open:t,onClose:r,fullWidth:!0,maxWidth:"md",PaperProps:{sx:{height:"80vh"}},children:[(0,o.jsxs)(n.A,{children:["User Management",(0,o.jsx)(s.A,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8},children:(0,o.jsx)(ee,{})})]}),(0,o.jsx)(i.A,{children:h?(0,o.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,o.jsx)(d.A,{})}):(0,o.jsx)(g,{component:b.A,children:(0,o.jsxs)(T,{children:[(0,o.jsx)(O,{children:(0,o.jsxs)(U,{children:[(0,o.jsx)(_.A,{children:"User"}),(0,o.jsx)(_.A,{children:"Email"}),(0,o.jsx)(_.A,{children:"Last Login"}),(0,o.jsx)(_.A,{children:"Registered"}),(0,o.jsx)(_.A,{align:"center",children:"Has Access"})]})}),(0,o.jsxs)(J,{children:[p.map(e=>{var t;return(0,o.jsxs)(U,{children:[(0,o.jsx)(_.A,{children:(0,o.jsxs)(c.A,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(Y.A,{src:e.photoURL||void 0,alt:e.displayName,sx:{mr:2,width:32,height:32},children:(null==(t=e.displayName)?void 0:t.charAt(0))||"U"}),(0,o.jsx)(q.A,{variant:"body2",children:e.displayName||"Anonymous"})]})}),(0,o.jsx)(_.A,{children:e.email}),(0,o.jsx)(_.A,{children:M(e.lastLogin)}),(0,o.jsx)(_.A,{children:M(e.createdAt)}),(0,o.jsx)(_.A,{align:"center",children:e.isAdmin?(0,o.jsx)(q.A,{variant:"body2",color:"primary",children:"Admin"}):(0,o.jsx)(G.A,{checked:e.hasAccess,onChange:()=>j(e.uid,!e.hasAccess),color:"primary"})})]},e.uid)}),0===p.length&&(0,o.jsx)(U,{children:(0,o.jsx)(_.A,{colSpan:5,align:"center",children:"No users found"})})]})]})})}),(0,o.jsx)(K.A,{open:m.open,autoHideDuration:4e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,o.jsx)(Q.A,{onClose:C,severity:m.severity,sx:{width:"100%"},children:m.message})})]}):null}},1593:(e,t,r)=>{r.d(t,{A:()=>l}),r(2115);var o=r(7515),a=r(5155);let l=(0,o.A)((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},2046:(e,t,r)=>{r.d(t,{A:()=>H});var o=r(2115),a=r(2596),l=r(7472),n=r(4391),s=r(5955),i=r(680),c=r(186),d=r(7798),u=r(3209),p=r(8963),A=r(8407),h=r(5170),v=r(870);function m(e){return(0,v.Ay)("MuiAlert",e)}let y=(0,h.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var x=r(6220),f=r(7515),g=r(5155);let b=(0,f.A)((0,g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),j=(0,f.A)((0,g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=(0,f.A)((0,g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),M=(0,f.A)((0,g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var w=r(1593);let S=e=>{let{variant:t,color:r,severity:o,classes:a}=e,n={root:["root","color".concat((0,u.A)(r||o)),"".concat(t).concat((0,u.A)(r||o)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,l.A)(n,m,a)},R=(0,s.Ay)(A.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,u.A)(r.color||r.severity))]]}})((0,i.A)(e=>{let{theme:t}=e,r="light"===t.palette.mode?n.e$:n.a,o="light"===t.palette.mode?n.a:n.e$;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((0,p.A)(["light"])).map(e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:o(t.palette[a].light,.9),["& .".concat(y.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}}}}),...Object.entries(t.palette).filter((0,p.A)(["light"])).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light),["& .".concat(y.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter((0,p.A)(["dark"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}})]}})),T=(0,s.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),k=(0,s.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),z=(0,s.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),L={success:(0,g.jsx)(b,{fontSize:"inherit"}),warning:(0,g.jsx)(j,{fontSize:"inherit"}),error:(0,g.jsx)(C,{fontSize:"inherit"}),info:(0,g.jsx)(M,{fontSize:"inherit"})},H=o.forwardRef(function(e,t){let r=(0,c.b)({props:e,name:"MuiAlert"}),{action:o,children:l,className:n,closeText:s="Close",color:i,components:u={},componentsProps:p={},icon:A,iconMapping:h=L,onClose:v,role:m="alert",severity:y="success",slotProps:f={},slots:b={},variant:j="standard",...C}=r,M={...r,color:i,severity:y,variant:j,colorSeverity:i||y},H=S(M),N={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...b},slotProps:{...p,...f}},[I,O]=(0,d.A)("root",{ref:t,shouldForwardComponentProp:!0,className:(0,a.A)(H.root,n),elementType:R,externalForwardedProps:{...N,...C},ownerState:M,additionalProps:{role:m,elevation:0}}),[E,P]=(0,d.A)("icon",{className:H.icon,elementType:T,externalForwardedProps:N,ownerState:M}),[B,W]=(0,d.A)("message",{className:H.message,elementType:k,externalForwardedProps:N,ownerState:M}),[F,U]=(0,d.A)("action",{className:H.action,elementType:z,externalForwardedProps:N,ownerState:M}),[_,D]=(0,d.A)("closeButton",{elementType:x.A,externalForwardedProps:N,ownerState:M}),[V,X]=(0,d.A)("closeIcon",{elementType:w.A,externalForwardedProps:N,ownerState:M});return(0,g.jsxs)(I,{...O,children:[!1!==A?(0,g.jsx)(E,{...P,children:A||h[y]||L[y]}):null,(0,g.jsx)(B,{...W,children:l}),null!=o?(0,g.jsx)(F,{...U,children:o}):null,null==o&&v?(0,g.jsx)(F,{...U,children:(0,g.jsx)(_,{size:"small","aria-label":s,title:s,color:"inherit",onClick:v,...D,children:(0,g.jsx)(V,{fontSize:"small",...X})})}):null]})})},3511:(e,t,r)=>{r.d(t,{A:()=>o});let o=r(2115).createContext(void 0)},7011:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(2115),a=r(3511);function l(){return o.useContext(a.A)}}}]);